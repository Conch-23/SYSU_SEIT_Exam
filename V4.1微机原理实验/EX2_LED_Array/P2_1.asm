;P2_1
		ORG 0000H
		LJMP START
		ORG 0030H
START:	MOV SP, #60H
		MOV R1, #30
DISP1:	LCALL CHAR1
		MOV P0, #0FFH 
		DJNZ R1, DISP1
		LCALL DELAY2

		MOV R1, #30
DISP2:	LCALL CHAR2
		MOV P0, #0FFH 
		DJNZ R1, DISP2
		LCALL DELAY2

		MOV R1, #30
DISP3:	LCALL CHAR1
		MOV P0, #0FFH 
		DJNZ R1, DISP3
		LCALL DELAY2

		MOV R1, #30
DISP4:	LCALL CHAR3
		MOV P0, #0FFH 
		DJNZ R1, DISP4
		LCALL DELAY2
		LCALL DELAY2
		LCALL DELAY2
		LCALL DELAY2
		LJMP START
		
CHAR1:	MOV P1, #0E0H	;打开第一行11100000
		MOV P0, #11100001B	;第一行LED灯珠
		LCALL DELAY1
		INC P1
		MOV P0, #11111110B	;
		LCALL DELAY1
		INC P1
		MOV P0, #11110001B	;
		LCALL DELAY1
		INC P1
		MOV P0, #11101111B	;
		LCALL DELAY1
		INC P1
		MOV P0, #11110000B	;
		LCALL DELAY1
		RET
CHAR2:	MOV P1, #0E0H	;
		MOV P0, #11101110B	;
		LCALL DELAY1
		INC P1
		MOV P0, #11110101B	;
		LCALL DELAY1
		INC P1
		MOV P0, #11111011B	;
		LCALL DELAY1
		INC P1
		MOV P0, #11111011B	;
		LCALL DELAY1
		INC P1
		MOV P0, #11111011B	;
		LCALL DELAY1
		RET
CHAR3:	MOV P1, #0E0H	;
		MOV P0, #11101110B	;
		LCALL DELAY1
		INC P1
		MOV P0, #11101110B	;
		LCALL DELAY1
		INC P1
		MOV P0, #11101110B	;
		LCALL DELAY1
		INC P1
		MOV P0, #11101110B	;
		LCALL DELAY1
		INC P1
		MOV P0, #11110001B	;
		LCALL DELAY1
		RET

DELAY1:MOV R2, #30    	;延时2ms子程序
DEL1:	MOV R3, #30
		DJNZ R3, $
		DJNZ R2, DEL1	
		RET

DELAY2:MOV R4, #40    	;延时400ms子程序
DEL2:	MOV R5, #40
DEL3:	MOV R6, #125
		DJNZ R6, $
		DJNZ R5, DEL3
		DJNZ R4, DEL2  	
		RET
		END